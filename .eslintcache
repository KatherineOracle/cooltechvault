[{"C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\index.js":"1","C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\App.js":"2","C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\pages\\AuthPage.js":"3","C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\pages\\HomePage.js":"4","C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\Layout\\Layout.js":"5","C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\Profile\\UserProfile.js":"6","C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\Auth\\AuthForm.js":"7","C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\Layout\\MainNavigation.js":"8","C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\StartingPage\\StartingPageContent.js":"9","C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\Profile\\ProfileForm.js":"10","C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\store\\auth-context.js":"11"},{"size":380,"mtime":1657970563558,"results":"12","hashOfConfig":"13"},{"size":875,"mtime":1658034349165,"results":"14","hashOfConfig":"13"},{"size":130,"mtime":1657957047994,"results":"15","hashOfConfig":"13"},{"size":171,"mtime":1657957047976,"results":"16","hashOfConfig":"13"},{"size":246,"mtime":1657957047694,"results":"17","hashOfConfig":"13"},{"size":278,"mtime":1657957047904,"results":"18","hashOfConfig":"13"},{"size":3013,"mtime":1658019533870,"results":"19","hashOfConfig":"13"},{"size":928,"mtime":1658019723662,"results":"20","hashOfConfig":"13"},{"size":240,"mtime":1657957047799,"results":"21","hashOfConfig":"13"},{"size":2048,"mtime":1658019612951,"results":"22","hashOfConfig":"13"},{"size":1574,"mtime":1658020974572,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1xuk1jm",{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\index.js",[],"C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\App.js",["48"],"C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\pages\\AuthPage.js",[],["49","50"],"C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\pages\\HomePage.js",[],"C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\Layout\\Layout.js",[],"C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\Profile\\UserProfile.js",[],"C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\Auth\\AuthForm.js",[],"C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\Layout\\MainNavigation.js",[],"C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\StartingPage\\StartingPageContent.js",[],"C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\components\\Profile\\ProfileForm.js",["51"],"import { useRef, useContext, useState } from \"react\";\nimport AuthContext from \"../../store/auth-context\";\nimport classes from './ProfileForm.module.css';\n\nconst ProfileForm = () => {\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState(null);\n  const { token } =  useContext(AuthContext)\n  const newPasswordInputRef = useRef();\n  \n  const submitHandler = async (event) => {\n    event.preventDefault();\n\n    const enteredPassword = newPasswordInputRef.current.value;\n    \n    const requestOptions = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \"+ token\n      },\n      method: \"POST\",\n      body: JSON.stringify({        \n        password: enteredPassword\n      }),\n    };    \n    \n    try{\n      const response = await fetch(`${process.env.REACT_APP_API_BASE}/changepassword`, requestOptions);    \n      const data = await response.json();\n      if(!response.ok){\n        //bad\n        console.log(data);\n        throw Error(data.message);\n      } else {\n        //all good\n        setMessage(data.message)\n        \n        setError(null)\n      }\n    } catch (err) {\n\n      console.log(err.message);\n      if(!err.message){\n        setError(\"Could not connect to server\");\n      }\n      setError(err.message)\n      \n\n    }    \n\n\n  }\n\n\n  return (\n    <>\n    <form onSubmit={submitHandler} className={classes.form}>\n      <div className={classes.control}>\n        <label htmlFor='new-password'>New Password</label>\n        <input type='password' id='new-password' minLength=\"8\" ref={newPasswordInputRef} />\n      </div>\n      <div className={classes.action}>\n        <button>Change Password</button>\n      </div>\n    </form>\n              {isLoading && !error && <p className=\"text-center\">one moment please...</p>}\n\n              {error && <p className=\"text-center\">{error}</p>}\n              {message && <p className=\"text-center\">{message}</p>}\n              </>              \n  );\n}\n\nexport default ProfileForm;\n","C:\\wamp64\\www\\hyperiondev\\mod3\\Task 35\\cooltechVault\\client\\src\\store\\auth-context.js",[],{"ruleId":"52","severity":1,"message":"53","line":11,"column":23,"nodeType":"54","messageId":"55","endLine":11,"endColumn":41},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","replacedBy":"59"},{"ruleId":"52","severity":1,"message":"60","line":6,"column":21,"nodeType":"54","messageId":"55","endLine":6,"endColumn":31},"no-unused-vars","'hasPermissionLevel' is assigned a value but never used.","Identifier","unusedVar","no-native-reassign",["61"],"no-negated-in-lhs",["62"],"'setLoading' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]